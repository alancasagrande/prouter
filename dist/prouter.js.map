{"version":3,"file":"prouter.js","sourceRoot":"/source/","sources":["prouter.ts"],"names":["prouter","prouter.RouteHelper","prouter.RouteHelper.constructor","prouter.RouteHelper._extractKeys","prouter.RouteHelper._routeToRegExp","prouter.RouteHelper._clearSlashes","prouter.RouteHelper._extractParameters","prouter.RouteHelper._parseQuery","prouter.RouteHelper._prepareArguments","prouter.RoutingLevel","prouter.RoutingLevel.constructor","prouter.RoutingLevel.config","prouter.RoutingLevel.add","prouter.RoutingLevel.remove","prouter.RoutingLevel.check","prouter.RoutingLevel.drop","prouter.RoutingLevel.to","prouter.Router","prouter.Router.constructor","prouter.Router.drop","prouter.Router._listen","prouter.Router.check","prouter.Router.navigate","prouter.Router.route","prouter.Router.config","prouter.Router.to","prouter.Router.add","prouter.Router.remove","prouter.Router.getCurrent","prouter.Router.on","prouter.Router.off","prouter.Router.trigger","prouter.Router._applyNested","prouter.Router._apply"],"mappings":"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A,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,SAASA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;wBACxCA,EAAEA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA,KAAKA,QAAQA,CAACA,CAACA,CAACA;4BAC5BA,SAASA,CAACA,MAAMA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;wBAC3BA,CAACA;oBACLA,CAACA;oBACDA,EAAEA,CAACA,CAACA,SAASA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;wBACzBA,OAAOA,IAAIA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA;oBACpCA,CAACA;gBACLA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACJA,OAAOA,IAAIA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA;gBACpCA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,IAAIA,CAACA;QAChBA,CAACA;QAEDb;;;;WAIGA;QACIA,cAAOA,GAAdA,UAAeA,GAAWA;YAAEc,oBAAoBA;iBAApBA,WAAoBA,CAApBA,sBAAoBA,CAApBA,IAAoBA;gBAApBA,mCAAoBA;;YAC5CA,IAAMA,SAASA,GAAGA,IAAIA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA;YAC3CA,EAAEA,CAACA,CAACA,CAACA,SAASA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBAClCA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;YACDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,SAASA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACxCA,IAAMA,MAAMA,GAAGA,SAASA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA;gBACpDA,8CAA8CA;gBAC9CA,EAAEA,CAACA,CAACA,MAAMA,KAAKA,KAAKA,CAACA,CAACA,CAACA;oBACnBA,MAAMA,CAACA,KAAKA,CAACA;gBACjBA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,IAAIA,CAACA;QAChBA,CAACA;QAEcd,mBAAYA,GAA3BA,UAA4BA,UAAuBA;YAC/Ce,MAAMA,CAACA,UAASA,KAAUA;gBACtB,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACxB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;oBACzC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAC9B,CAAC;YACL,CAAC,CAACA;QACNA,CAACA;QAEcf,aAAMA,GAArBA,UAAsBA,UAAuBA;YACzCgB,IAAIA,aAAsBA,CAACA;YAC3BA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACzCA,IAAMA,SAASA,GAAGA,UAAUA,CAACA,CAACA,CAACA,CAACA;gBAChCA,EAAEA,CAACA,CAACA,SAASA,CAACA,aAAaA,CAACA,CAACA,CAACA;oBAC1BA,aAAaA,GAAGA,SAASA,CAACA,QAAQA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,SAASA,CAACA,MAAMA,CAACA,CAACA;gBACrEA,CAACA;gBACDA,IAAIA,CAACA,YAAYA,CAACA,SAASA,CAACA,MAAMA,CAACA,CAACA,aAAaA,CAACA,CAACA;YACvDA,CAACA;QACLA,CAACA;QApLchB,kBAAWA,GAAGA,IAAIA,YAAYA,EAAEA,CAACA;QACjCA,qBAAcA,GAAiBA,EAAEA,CAACA;QAClCA,eAAQA,GAAGA,EAAEA,CAACA;QACdA,iBAAUA,GAAGA,KAAKA,CAACA;QAkLtCA,aAACA;IAADA,CAACA,AAvLDjB,IAuLCA;IAvLYA,cAAMA,SAuLlBA,CAAAA;IAGDA,MAAMA,CAACA,OAAOA,EAAEA,CAACA;AAErBA,CAACA,EA5bM,OAAO,KAAP,OAAO,QA4bb","sourcesContent":["module prouter {\r\n\r\n    /**\r\n     * Contract for entry handler.\r\n     */\r\n    export interface Route {\r\n        path: RegExp;\r\n        callback: Function;\r\n        keys: string[];\r\n        alias: string;\r\n        facade?: RoutingLevel;\r\n    }\r\n    /**\r\n     * Contract for entry handler.\r\n     */\r\n    export interface NodeRoute {\r\n        alias: string;\r\n        callback: Function;\r\n        params: Object[];\r\n        routes: NodeRoute[];\r\n        rootRerouting: boolean;\r\n    }\r\n\r\n    /**\r\n     * Contract for entry handler.\r\n     */\r\n    export interface Options {\r\n        mode?: string;\r\n        keys?: boolean;\r\n        root?: string;\r\n        rerouting?: boolean;\r\n    }\r\n\r\n    /**\r\n     * Contract for object param.\r\n     */\r\n    export interface ObjectParam {\r\n        [index: string]: any;\r\n    }\r\n\r\n    /**\r\n     * Contract for event handler.\r\n     */\r\n    interface EventHandler {\r\n        [index: string]: Function[];\r\n    }\r\n\r\n\r\n    declare const global: any;\r\n\r\n    // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\r\n    // We use `self` instead of `window` for `WebWorker` support.\r\n    const _global = (typeof self === 'object' && self.self === self && self) ||\r\n        (typeof global === 'object' && global.global === global && global);\r\n\r\n    const _MODES = ['node', 'hash', 'history'];\r\n    const _DEF_OPTIONS: Options = { mode: 'hash', keys: true, root: '/', rerouting: true };\r\n\r\n    // Caches for common regexp.\r\n    const _OPTIONAL_PARAM = /\\((.*?)\\)/g;\r\n    const _NAMED_PARAM = /(\\(\\?)?:\\w+/g;\r\n    const _SPLAT_PARAM = /\\*\\w+/g;\r\n    const _ESCAPE_REG_EXP = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\r\n\r\n\r\n    class RouteHelper {\r\n\r\n        static _extractKeys(path: string): string[] {\r\n            const keys = path.match(/:([^\\/]+)/g);\r\n            if (keys) {\r\n                const resp: string[] = [];\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    resp[i] = keys[i].replace(/[:\\(\\)]/g, '');\r\n                }\r\n                return resp;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        static _routeToRegExp(route: string): RegExp {\r\n            route = route.replace(_ESCAPE_REG_EXP, '\\\\$&')\r\n                .replace(_OPTIONAL_PARAM, '(?:$1)?')\r\n                .replace(_NAMED_PARAM, function(match, optional) {\r\n                return optional ? match : '([^/?]+)';\r\n            })\r\n                .replace(_SPLAT_PARAM, '([^?]*)');\r\n            return new RegExp('^' + route + '(?:\\\\?*([^/]*))');\r\n        }\r\n\r\n        static _clearSlashes(path: string): string {\r\n            return path.replace(/\\/$/, '').replace(/^\\//, '');\r\n        }\r\n\r\n        static _extractParameters(route: RegExp, fragment: string): Object[] {\r\n            const params = route.exec(fragment).slice(1);\r\n            const resp: Object[] = [];\r\n            if (params) {\r\n                const n = params.length - 1;\r\n                for (let i = 0; i < n; i++) {\r\n                    resp.push(params[i] || null);\r\n                }\r\n                resp.push(params[n] ? _global.decodeURIComponent(params[n]) : null);\r\n            }\r\n            return resp;\r\n        }\r\n\r\n        private static _parseQuery(qstr: string): Object {\r\n            const query: any = {};\r\n            const params = qstr.split('&');\r\n            for (let i = 0; i < params.length; i++) {\r\n                const pair = params[i].split('=');\r\n                const prop = _global.decodeURIComponent(pair[0]);\r\n                query[prop] = _global.decodeURIComponent(pair[1]);\r\n            }\r\n            return query;\r\n        }\r\n\r\n        static _prepareArguments(parameters: any[], keys?: string[]): Object[] {\r\n\r\n            const lastIndex = parameters.length - 1;\r\n            const query = parameters[lastIndex];\r\n\r\n            if (keys && keys.length) {\r\n                const objectParam: ObjectParam = {};\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    objectParam[keys[i]] = parameters[i];\r\n                }\r\n                if (parameters[keys.length]) {\r\n                    objectParam['query'] = RouteHelper._parseQuery(parameters[keys.length]);\r\n                }\r\n                parameters = [objectParam];\r\n            } else if (query && query.indexOf('=') >= 0) {\r\n                parameters[lastIndex] = RouteHelper._parseQuery(query);\r\n            }\r\n\r\n            return parameters;\r\n        }\r\n    }\r\n\r\n\r\n    export class RoutingLevel {\r\n\r\n        _routes: Route[] = [];\r\n\r\n        constructor(public _options: Options = {}) {\r\n            this.config(this._options);\r\n        }\r\n\r\n        config(options: Options): RoutingLevel {\r\n            for (let prop in _DEF_OPTIONS) {\r\n                if (options[prop] !== undefined) {\r\n                    this._options[prop] = options[prop];\r\n                } else if (this._options[prop] === undefined) {\r\n                    this._options[prop] = _DEF_OPTIONS[prop];\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        add(path: any, callback?: Function): RoutingLevel {\r\n\r\n            let keys: string[];\r\n            let re: RegExp;\r\n\r\n            // If default route.\r\n            if (typeof path === 'function') {\r\n                callback = path;\r\n                re = /.*/;\r\n            } else {\r\n                keys = RouteHelper._extractKeys(path);\r\n                re = RouteHelper._routeToRegExp(path);\r\n            }\r\n\r\n            this._routes.push({\r\n                path: re,\r\n                callback: callback,\r\n                keys: keys,\r\n                alias: path\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        remove(alias: any): RoutingLevel {\r\n\r\n            for (let i = this._routes.length - 1; i >= 0; i--) {\r\n                const r = this._routes[i];\r\n                if (alias === r.alias || alias === r.callback || alias === r.path) {\r\n                    this._routes.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        check(fragment: string, nodeRoutes: NodeRoute[], lastURL: string): NodeRoute[] {\r\n\r\n            for (let i = 0; i < this._routes.length; i++) {\r\n\r\n                const route = this._routes[i];\r\n                const match = fragment.match(route.path);\r\n\r\n                if (match) {\r\n\r\n                    let params = RouteHelper._extractParameters(route.path, fragment);\r\n                    const keys = this._options.keys ? route.keys : null;\r\n                    params = RouteHelper._prepareArguments(params, keys);\r\n                    const shouldReroute = (fragment.slice(0, match[0].length) !== lastURL.slice(0, match[0].length));\r\n\r\n                    const nodeRoute: NodeRoute = {\r\n                        alias: route.alias,\r\n                        callback: route.callback,\r\n                        params: params,\r\n                        routes: [],\r\n                        rootRerouting: this._options.rerouting || shouldReroute\r\n                    };\r\n\r\n                    nodeRoutes.push(nodeRoute);\r\n\r\n                    if (route.facade) {\r\n                        fragment = fragment.slice(match[0].length, fragment.length);\r\n                        lastURL = lastURL.slice(match[0].length, lastURL.length);\r\n                        route.facade.check(fragment, nodeRoute.routes, lastURL);\r\n                    }\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return nodeRoutes;\r\n        }\r\n\r\n        drop(): RoutingLevel {\r\n            this._routes = [];\r\n            this.config(_DEF_OPTIONS);\r\n            return this;\r\n        }\r\n\r\n        to(alias: string): RoutingLevel {\r\n            let subrouter: RoutingLevel;\r\n            for (let i = 0; i < this._routes.length; i++) {\r\n                const route = this._routes[i];\r\n                if (alias === route.alias) {\r\n                    subrouter = route.facade;\r\n                    if (!subrouter) {\r\n                        subrouter = new RoutingLevel(this._options);\r\n                        route.facade = subrouter;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            return subrouter;\r\n        }\r\n    }\r\n\r\n\r\n    export class Router {\r\n\r\n        private static _firstLevel = new RoutingLevel();\r\n        private static _eventHandlers: EventHandler = {};\r\n        private static _lastURL = '';\r\n        private static _listening = false;\r\n\r\n        static drop(): RoutingLevel {\r\n            this._lastURL = '';\r\n            this.off();\r\n            return this._firstLevel.drop();\r\n        }\r\n\r\n        static _listen() {\r\n            if (this._listening) {\r\n                throw new Error('Prouter already listening');\r\n            }\r\n            _global.addEventListener('hashchange', () => {\r\n                const current = this.getCurrent();\r\n                this.check(current);\r\n            }, false);\r\n            _global.addEventListener('popstate', (evt: PopStateEvent) => {\r\n                if (evt.state !== null && evt.state !== undefined) {\r\n                    const current = this.getCurrent();\r\n                    this.check(current);\r\n                }\r\n            }, false);\r\n            this._listening = true;\r\n        }\r\n\r\n        static check(path: string): RoutingLevel {\r\n            const nodeRoutes = this._firstLevel.check(path, [], this._lastURL);\r\n            this._apply(nodeRoutes);\r\n            return this._firstLevel;\r\n        }\r\n\r\n        static navigate(path: string): RoutingLevel {\r\n            const mode = this._firstLevel._options.mode;\r\n            switch (mode) {\r\n                case 'history':\r\n                    _global.history.pushState(null, null, this._firstLevel._options.root + RouteHelper._clearSlashes(path));\r\n                    break;\r\n                case 'hash':\r\n                    _global.location.href = _global.location.href.replace(/#(.*)$/, '') + '#' + path;\r\n                    break;\r\n                case 'node':\r\n                    this._lastURL = path;\r\n                    break;\r\n            }\r\n            return this._firstLevel;\r\n        }\r\n\r\n        static route(path: string): boolean {\r\n            const current = this.getCurrent();\r\n            const next = this.trigger('route:before', path, current);\r\n            if (next === false) {\r\n                return false;\r\n            }\r\n            if (this._firstLevel._options.mode === 'node') {\r\n                this.check(path);\r\n            }\r\n            this.navigate(path);\r\n            this.trigger('route:after', path, current);\r\n            return true;\r\n        }\r\n\r\n        static config(options: Options): RoutingLevel {\r\n            return this._firstLevel.config(options);\r\n        }\r\n\r\n        static to(alias: string): RoutingLevel {\r\n            return this._firstLevel.to(alias);\r\n        }\r\n\r\n        static add(path: any, callback?: Function): RoutingLevel {\r\n            return this._firstLevel.add(path, callback);\r\n        }\r\n\r\n        static remove(alias: string): RoutingLevel {\r\n            return this._firstLevel.remove(alias);\r\n        }\r\n\r\n        static getCurrent(): string {\r\n\r\n            const mode = this._firstLevel._options.mode;\r\n            const root = this._firstLevel._options.root;\r\n            let fragment = this._lastURL;\r\n\r\n            if (mode === 'history') {\r\n                fragment = RouteHelper._clearSlashes(_global.decodeURI(_global.location.pathname + _global.location.search));\r\n                fragment = fragment.replace(/\\?(.*)$/, '');\r\n                fragment = root !== '/' ? fragment.replace(root, '') : fragment;\r\n                fragment = RouteHelper._clearSlashes(fragment);\r\n            } else if (mode === 'hash') {\r\n                const match = _global.location.href.match(/#(.*)$/);\r\n                fragment = match ? match[1] : '';\r\n                fragment = RouteHelper._clearSlashes(fragment);\r\n            }\r\n\r\n            return fragment;\r\n        }\r\n    \r\n        /**\r\n         * Add event listener.\r\n         * @param {string} evt Name of the event.\r\n         * @param {Function} callback Method.\r\n         * @returns {History} this history\r\n         */\r\n        static on(evt: string, callback: Function): Router {\r\n            if (this._eventHandlers[evt] === undefined) {\r\n                this._eventHandlers[evt] = [];\r\n            }\r\n            this._eventHandlers[evt].push(callback);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * Remove event listener.\r\n         * @param {string} evt Name of the event.\r\n         * @param {Function} callback Method.\r\n         * @returns {History} this history\r\n         */\r\n        static off(evt?: string, callback?: Function): Router {\r\n            if (evt === undefined) {\r\n                this._eventHandlers = {};\r\n            } else if (this._eventHandlers[evt]) {\r\n                if (callback) {\r\n                    const callbacks = this._eventHandlers[evt];\r\n                    for (let i = 0; i < callbacks.length; i++) {\r\n                        if (callbacks[i] === callback) {\r\n                            callbacks.splice(i, 1);\r\n                        }\r\n                    }\r\n                    if (callbacks.length === 0) {\r\n                        delete this._eventHandlers[evt];\r\n                    }\r\n                } else {\r\n                    delete this._eventHandlers[evt];\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    \r\n        /**\r\n         * Events triggering.\r\n         * @param {string} evt Name of the event being triggered.\r\n         * @return {boolean} null if not suscriptors, false if the event was cancelled for some suscriptor, true otherwise.\r\n         */\r\n        static trigger(evt: string, ...restParams: any[]): boolean {\r\n            const callbacks = this._eventHandlers[evt];\r\n            if (!callbacks || !callbacks.length) {\r\n                return null;\r\n            }\r\n            for (let i = 0; i < callbacks.length; i++) {\r\n                const respIt = callbacks[i].apply(null, restParams);          \r\n                // check if some listener cancelled the event.\r\n                if (respIt === false) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        private static _applyNested(nodeRoutes: NodeRoute[]): Function {\r\n            return function(param: any) {\r\n                if (typeof param === 'string') {\r\n                    Router.route(param);\r\n                } else if (nodeRoutes && nodeRoutes.length) {\r\n                    Router._apply(nodeRoutes);\r\n                }\r\n            };\r\n        }\r\n\r\n        private static _apply(nodeRoutes: NodeRoute[]) {\r\n            let falseToReject: boolean;\r\n            for (let i = 0; i < nodeRoutes.length; i++) {\r\n                const nodeRoute = nodeRoutes[i];\r\n                if (nodeRoute.rootRerouting) {\r\n                    falseToReject = nodeRoute.callback.apply(null, nodeRoute.params);\r\n                }\r\n                this._applyNested(nodeRoute.routes)(falseToReject);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    Router._listen();\r\n\r\n}"]}